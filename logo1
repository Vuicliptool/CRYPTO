// --- Cáº¥u hÃ¬nh mÃ u sáº¯c ---
$colors = [
    "\033[31m", "\033[32m", "\033[33m", "\033[34m", "\033[35m", "\033[36m",
    "\033[91m", "\033[92m", "\033[93m", "\033[94m", "\033[95m", "\033[96m"
];
$resetColor = "\033[0m"; // MÃ u reset

// Láº¥y ngáº«u nhiÃªn 7 mÃ u tá»« máº£ng
$randomColors = [];
for ($i = 0; $i < 7; $i++) {
    $randomColors[] = $colors[mt_rand(0, count($colors) - 1)];
}

system('clear');

// --- HÃ m chá»©c nÄƒng ---

/**
 * Kiá»ƒm tra vÃ  láº¥y khÃ³a API dá»±a trÃªn ngÃ y hiá»‡n táº¡i.
 */
function apikey() {
    date_default_timezone_set("Asia/Ho_Chi_Minh");
    $dayOfWeek = date("D");

    // Máº£ng chá»©a máº­t kháº©u vÃ  link theo ngÃ y
    $dailyData = [
        "Sun" => ["05055Ufcucuf58", "https://upfiles.com/4GlT5f2"],
        "Mon" => ["58686ugxgxuuguxg788", "https://upfiles.com/EGpaGlCv"],
        "Tue" => ["53838ucffuucg3838", "https://upfiles.com/BKxy5Q"],
        "Wed" => ["53838xfxuxfucuggcu2735", "https://upfiles.com/CGR2vXf"],
        "Thu" => ["5275455fcuucufccfu555", "https://upfiles.com/qTY8w47"],
        "Fri" => ["282727fxxfu7272", "https://upfiles.com/pYvtYu6"],
        "Sat" => ["558382ufzufzux5580", "https://upfiles.com/9oz8zZt6"],
    ];

    $password = $dailyData[$dayOfWeek][0] ?? "default_password"; // Sá»­ dá»¥ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh náº¿u khÃ´ng tÃ¬m tháº¥y
    $linkpassword = $dailyData[$dayOfWeek][1] ?? "https://note1s.com/notes/99VTW5"; // Sá»­ dá»¥ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh náº¿u khÃ´ng tÃ¬m tháº¥y

    // Kiá»ƒm tra káº¿t ná»‘i Internet
    if (@fsockopen("www.google.com", 80) === false) {
        echo "\x1b[1;31mNO CONNECTION\xa";
        die;
    }

    // Xá»­ lÃ½ file key
    if (!file_exists("key")) {
        echo "\033[1;32m
    ______                                   _
    | ___ \\                                 | |
    | |_/ /_ _ ___ _____      _____  _ __ __| |
    |  __/ _` / __/ __\\ \\ /\\ / / _ \\| '__/ _` |
    | |  | (_| \\__ \\__ \\\\ V  V / (_) | | | (_| |
    \\_|  \\__,_|___/___/ \\_/\\_/ \\___/|_|  \\__,_|


\n";
        echo "\033[1;33m[\033[1;37m VÃŒ TOOL HOÃ€N TOÃ€N FREE NÃŠN VIá»†C Láº¤Y KEY Cá»¦A Báº N \n\tGIÃšP MÃŒNH KIáº¾M THÃŠM MIáº¾NG CÆ M ğŸ¥°\033[1;33m]\n\n";

        echo "\033[1;92m=================================================\n";
        echo "\033[0;37mCopy Links:\033[1;35m[\033[1;33m " . $linkpassword . "\033[1;35m ]\n";
        echo "\033[1;92m=================================================\n";

        echo "\033[1;97m ~\033[1;91m[\033[1;35mPASSWORD\033[1;91m] \033[1;97m=> \033[1;90m";
        $key_input = trim(fgets(STDIN));

        if ($password === $key_input) {
            echo "\033[1;92mKey Há»£p Lá»‡\n";
            sleep(3);
            file_put_contents("key", $key_input); // Ghi key vÃ o file
        } else {
            die("\033[1;31mKey Sai Rá»“i, VÃ o Link PhÃ­a TrÃªn Äá»ƒ Láº¥y Key");
        }
    } else {
        if ($password !== file_get_contents("key")) {
            echo "Äang Láº¥y Key...";
            sleep(2);
            unlink("key"); // XÃ³a file key
        }
    }
}

/**
 * Hiá»ƒn thá»‹ vÄƒn báº£n tá»«ng kÃ½ tá»± vá»›i Ä‘á»™ trá»….
 *
 * @param string $text VÄƒn báº£n cáº§n hiá»ƒn thá»‹.
 * @param int $usleep Microseconds Ä‘á»ƒ chá» giá»¯a cÃ¡c kÃ½ tá»±.
 */
function typeText($text, $usleep) {
    $characters = str_split($text);
    foreach ($characters as $char) {
        echo $char;
        usleep($usleep);
    }
}

function fast($text) {
    typeText($text, 5000);
}

function fast1($text) {
    typeText($text, 1000);
}

function slow2($text) {
    typeText($text, 3000);
}

/**
 * Láº¥y thÃ´ng tin IP tá»« ip-api.com.
 *
 * @return object|null Äá»‘i tÆ°á»£ng chá»©a thÃ´ng tin IP hoáº·c null náº¿u khÃ´ng thÃ nh cÃ´ng.
 */
function ipApi() {
    $response = @file_get_contents("http://ip-api.com/json");
    if ($response) {
        $data = json_decode($response);
        if ($data && $data->status === "success") {
            return $data;
        }
    }
    return null;
}

/**
 * Hiá»ƒn thá»‹ logo vÃ  thÃ´ng tin.
 */
function logo() {
    global $colors, $randomColors; // Sá»­ dá»¥ng biáº¿n global
    system('clear');

    $api = ipApi();
    if ($api) {
        date_default_timezone_set($api->timezone);
        echo str_pad('               ' . $api->city . ', ' . $api->regionName . ', ' . $api->country, 44, " ", STR_PAD_BOTH) . "\n";
    }
    echo '           ' . date("l") . '           ' . date("d/M/Y") . '         ' . date("H:i") . "\n";

    echo fast1("\t\t$randomColors[6]          ã€š ğ•‹ğ•†ğ•†ğ•ƒ ğ”¹ğ• ã€›            

$randomColors[0]\tâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
$randomColors[1]\tâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
$randomColors[2]\tâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
$randomColors[3]\tâ•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• 
$randomColors[4]\t â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     
$randomColors[5]\t  â•šâ•â•â•â•   â•šâ•â•â•â•â•â• â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•šâ•â•     

");
    echo slow2($randomColors[0] . "\tâ•”â™«â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â™«â•â•—\n");
    echo slow2($randomColors[5] . "          ğŸ‘‰YOUTUBE  : VUICLIP-TOOL-TERMUX\n");
    echo slow2($randomColors[6] . "          ğŸ‘‰ZALO     : zalo.me/g/gidiwv418\n");
    echo slow2($randomColors[4] . "          ğŸ‘‰TELEGRAM : t.me/vuiclip_tool_termux\n");
    echo slow2($randomColors[3] . "          ğŸ‘‰Remember to Subscribe to the Channel\n");
    echo slow2($randomColors[0] . "\tâ•šâ•â™«â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â™«â•\n\n");

    $highlightBg = "\033[101m\033[1;32m"; // Ná»n Ä‘á», chá»¯ xanh lÃ¡
    $resetColor = "\033[0m";
    $newLine = "\n";

    // Sá»­ dá»¥ng háº±ng sá»‘ 'nama_file' náº¿u nÃ³ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a
    $fileName = defined('nama_file') ? nama_file : 'UNKNOWN_FILE';

    echo "\t" . $highlightBg . str_pad(strtoupper($fileName), 44, " ", STR_PAD_BOTH) . $resetColor . $newLine . $newLine;
}
